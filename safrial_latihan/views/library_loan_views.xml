<odoo>
   <!-- List View -->
   <record id="view_library_loan_list" model="ir.ui.view">
       <field name="name">library.loan.list</field>
       <field name="model">library.loan</field>
       <field name="arch" type="xml">
           <list string="Daftar Peminjaman">
               <field name="borrower_id"/>
               <field name="book_id"/>
               <field name="borrow_date"/>
               <field name="return_date"/>
               <field name="state"/>
           </list>
       </field>
   </record>

   <!-- Form View -->
   <record id="view_library_loan_form" model="ir.ui.view">
       <field name="name">library.loan.form</field>
       <field name="model">library.loan</field>
       <field name="arch" type="xml">
           <form string="Data Peminjaman">
                <header>
                    <button string="Kembalikan" type="object" name="action_return_book" class="btn-primary" invisible="state != 'borrowed'" />
                </header>
               <sheet>
                   <group>
                       <field name="borrower_id" domain="[('is_library_member','=',True)]"/>
                       <field name="book_id"/>
                       <field name="borrow_date"/>
                       <field name="return_date"/>
                       <field name="state" readonly="1"/>
                   </group>
               </sheet>
           </form>
       </field>
   </record>

   
    <record id="view_library_loan_status_search" model="ir.ui.view">
        <field name="name">library.loan.search</field>
        <field name="model">library.loan</field>
        <field name="arch" type="xml">
            <search string="Peminjaman">
                <filter name="filter_peminjaman_aktif" string="Peminjaman Aktif" domain="[('state', '=', 'borrowed')]"/>
                <filter name="filter_peminjaman_selesai" string="Peminjaman Selesai" domain="[('state', '=', 'returned')]"/>
            </search>
        </field>
    </record>

   <!-- Action Window -->
   <record id="action_library_loan" model="ir.actions.act_window">
       <field name="name">Transaksi Peminjaman</field>
       <field name="res_model">library.loan</field>
       <field name="view_mode">list,form</field>
   </record>

   <!-- Hubungkan views ke action -->
   <record id="action_library_loan_list_view" model="ir.actions.act_window.view">
       <field name="sequence" eval="1"/>
       <field name="view_mode">list</field>
       <field name="view_id" ref="view_library_loan_list"/>
       <field name="act_window_id" ref="action_library_loan"/>
   </record>

   <record id="action_library_loan_form_view" model="ir.actions.act_window.view">
       <field name="sequence" eval="2"/>
       <field name="view_mode">form</field>
       <field name="view_id" ref="view_library_loan_form"/>
       <field name="act_window_id" ref="action_library_loan"/>
   </record>

   <!-- Menu Item -->
   <menuitem id="menu_library_loan"
             name="Transaksi Peminjaman"
             parent="menu_library_root"
             action="action_library_loan"
             sequence="20"/>
</odoo>